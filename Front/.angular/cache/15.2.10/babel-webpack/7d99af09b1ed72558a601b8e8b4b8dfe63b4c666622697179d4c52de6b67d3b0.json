{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/authentication.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/forms\";\nexport class LoginComponent {\n  constructor(authService, router) {\n    this.authService = authService;\n    this.router = router;\n    this.model = {\n      email: '',\n      password: ''\n    };\n  }\n  login() {\n    this.authService.login(this.model).subscribe(response => {\n      console.log(response);\n      if (response.role === 'Vendedor') {\n        this.router.navigate(['vend', response.userId]);\n      } else {\n        if (response.role === 'Comprador') {\n          this.router.navigate(['comp', response.userId]);\n        }\n      }\n    }, error => {\n      console.log(error);\n    });\n  }\n  static #_ = this.ɵfac = function LoginComponent_Factory(t) {\n    return new (t || LoginComponent)(i0.ɵɵdirectiveInject(i1.AuthenticationService), i0.ɵɵdirectiveInject(i2.Router));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: LoginComponent,\n    selectors: [[\"app-login\"]],\n    decls: 13,\n    vars: 2,\n    consts: [[3, \"ngSubmit\"], [\"for\", \"email\"], [\"type\", \"text\", \"id\", \"email\", \"name\", \"username\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"password\"], [\"type\", \"password\", \"id\", \"password\", \"name\", \"password\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"submit\"]],\n    template: function LoginComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"h2\");\n        i0.ɵɵtext(1, \"Login\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(2, \"form\", 0);\n        i0.ɵɵlistener(\"ngSubmit\", function LoginComponent_Template_form_ngSubmit_2_listener() {\n          return ctx.login();\n        });\n        i0.ɵɵelementStart(3, \"div\")(4, \"label\", 1);\n        i0.ɵɵtext(5, \"Email: \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(6, \"input\", 2);\n        i0.ɵɵlistener(\"ngModelChange\", function LoginComponent_Template_input_ngModelChange_6_listener($event) {\n          return ctx.model.email = $event;\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(7, \"div\")(8, \"label\", 3);\n        i0.ɵɵtext(9, \"Password: \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(10, \"input\", 4);\n        i0.ɵɵlistener(\"ngModelChange\", function LoginComponent_Template_input_ngModelChange_10_listener($event) {\n          return ctx.model.password = $event;\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(11, \"button\", 5);\n        i0.ɵɵtext(12, \"Login\");\n        i0.ɵɵelementEnd()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"ngModel\", ctx.model.email);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngModel\", ctx.model.password);\n      }\n    },\n    dependencies: [i3.ɵNgNoValidate, i3.DefaultValueAccessor, i3.NgControlStatus, i3.NgControlStatusGroup, i3.NgModel, i3.NgForm],\n    styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n  });\n}","map":{"version":3,"mappings":";;;;AAUA,OAAM,MAAOA,cAAc;EAKzBC,YAAoBC,WAAkC,EAAUC,MAAc;IAA1D,gBAAW,GAAXD,WAAW;IAAiC,WAAM,GAANC,MAAM;IAJtE,UAAK,GAAe;MAClBC,KAAK,EAAE,EAAE;MACTC,QAAQ,EAAE;KACX;EACiF;EAElFC,KAAK;IACH,IAAI,CAACJ,WAAW,CAACI,KAAK,CAAC,IAAI,CAACC,KAAK,CAAC,CAC/BC,SAAS,CACRC,QAAQ,IAAG;MACTC,OAAO,CAACC,GAAG,CAACF,QAAQ,CAAC;MACrB,IAAIA,QAAQ,CAACG,IAAI,KAAK,UAAU,EAAE;QAChC,IAAI,CAACT,MAAM,CAACU,QAAQ,CAAC,CAAC,MAAM,EAAEJ,QAAQ,CAACK,MAAM,CAAC,CAAC;OAChD,MAAM;QACL,IAAIL,QAAQ,CAACG,IAAI,KAAK,WAAW,EAAE;UACjC,IAAI,CAACT,MAAM,CAACU,QAAQ,CAAC,CAAC,MAAM,EAAEJ,QAAQ,CAACK,MAAM,CAAC,CAAC;;;IAGrD,CAAC,EACDC,KAAK,IAAG;MACNL,OAAO,CAACC,GAAG,CAACI,KAAK,CAAC;IACpB,CAAC,CACF;EACL;EAAC;qBAxBUf,cAAc;EAAA;EAAA;UAAdA,cAAc;IAAAgB;IAAAC;IAAAC;IAAAC;IAAAC;MAAA;QCV3BC,0BAAI;QAAAA,qBAAK;QAAAA,iBAAK;QAEdA,+BAA2B;QAArBA;UAAA,OAAYC,WAAO;QAAA,EAAC;QACxBD,2BAAK;QACgBA,uBAAO;QAAAA,iBAAQ;QAClCA,gCAAwE;QAA1CA;UAAA;QAAA,EAAyB;QAAvDA,iBAAwE;QAE1EA,2BAAK;QACmBA,0BAAU;QAAAA,iBAAQ;QACxCA,iCAAkF;QAA7CA;UAAA;QAAA,EAA4B;QAAjEA,iBAAkF;QAEpFA,kCAAsB;QAAAA,sBAAK;QAAAA,iBAAS;;;QANJA,eAAyB;QAAzBA,yCAAyB;QAIlBA,eAA4B;QAA5BA,4CAA4B","names":["LoginComponent","constructor","authService","router","email","password","login","model","subscribe","response","console","log","role","navigate","userId","error","selectors","decls","vars","consts","template","i0","ctx"],"sourceRoot":"","sources":["C:\\Users\\54351\\Desktop\\Practica1\\Front\\src\\app\\components\\authentication\\login\\login.component.ts","C:\\Users\\54351\\Desktop\\Practica1\\Front\\src\\app\\components\\authentication\\login\\login.component.html"],"sourcesContent":["import { Component } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { LoginModel } from 'src/app/interfaces/login-model';\nimport { AuthenticationService } from 'src/app/services/authentication.service';\n\n@Component({\n  selector: 'app-login',\n  templateUrl: './login.component.html',\n  styleUrls: ['./login.component.css']\n})\nexport class LoginComponent {\n  model: LoginModel = {\n    email: '',\n    password: ''\n  };\n  constructor(private authService: AuthenticationService, private router: Router) { }\n\n  login() {\n    this.authService.login(this.model)\n      .subscribe(\n        response => {\n          console.log(response);\n          if (response.role === 'Vendedor') {\n            this.router.navigate(['vend', response.userId]); \n          } else {\n            if (response.role === 'Comprador') {\n              this.router.navigate(['comp', response.userId]);\n          } \n          }\n        },\n        error => {\n          console.log(error);\n        }\n      );\n  }\n}\n","<h2>Login</h2>\n\n<form (ngSubmit)=\"login()\">\n  <div>\n    <label for=\"email\">Email: </label>\n    <input type=\"text\" id=\"email\" [(ngModel)]=\"model.email\" name=\"username\">\n  </div>\n  <div>\n    <label for=\"password\">Password: </label>\n    <input type=\"password\" id=\"password\" [(ngModel)]=\"model.password\" name=\"password\">\n  </div>\n  <button type=\"submit\">Login</button>\n</form>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}