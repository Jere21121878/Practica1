{"ast":null,"code":"import { MatPaginator } from '@angular/material/paginator';\nimport { MatSort } from '@angular/material/sort';\nimport { MatTableDataSource } from '@angular/material/table';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/material/snack-bar\";\nimport * as i2 from \"src/app/services/producto.service\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"@angular/material/table\";\nimport * as i6 from \"@angular/material/paginator\";\nimport * as i7 from \"@angular/material/sort\";\nimport * as i8 from \"@angular/material/form-field\";\nimport * as i9 from \"@angular/material/input\";\nimport * as i10 from \"@angular/material/tooltip\";\nimport * as i11 from \"@angular/material/button\";\nimport * as i12 from \"../../../shared/spinner/spinner.component\";\nfunction ListProductosComponent_app_spinner_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"app-spinner\");\n  }\n}\nfunction ListProductosComponent_th_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 21);\n    i0.ɵɵtext(1, \" Nombre \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ListProductosComponent_td_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 22);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const element_r20 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\"\", element_r20.nombrePro, \" \");\n  }\n}\nfunction ListProductosComponent_th_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 21);\n    i0.ɵɵtext(1, \" Descripci\\u00F3n \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ListProductosComponent_td_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 22);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const element_r21 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\"\", element_r21.descripcionPro, \" \");\n  }\n}\nfunction ListProductosComponent_th_19_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 21);\n    i0.ɵɵtext(1, \" Local ID \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ListProductosComponent_td_20_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 22);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const element_r22 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\"\", element_r22.localid, \" \");\n  }\n}\nfunction ListProductosComponent_th_22_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 21);\n    i0.ɵɵtext(1, \" Categor\\u00EDa \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ListProductosComponent_td_23_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 22);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const element_r23 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\"\", element_r23.categoriaP, \" \");\n  }\n}\nfunction ListProductosComponent_th_25_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 21);\n    i0.ɵɵtext(1, \" Cantidad \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ListProductosComponent_td_26_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 22);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const element_r24 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", element_r24.cantidadPro, \" \");\n  }\n}\nfunction ListProductosComponent_th_28_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 21);\n    i0.ɵɵtext(1, \" Precio \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ListProductosComponent_td_29_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 22);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const element_r25 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", element_r25.precio, \" \");\n  }\n}\nfunction ListProductosComponent_th_31_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 21);\n    i0.ɵɵtext(1, \" Imagen \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ListProductosComponent_td_32_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 22);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const element_r26 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", element_r26.imagen, \" \");\n  }\n}\nfunction ListProductosComponent_td_36_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r29 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"td\", 22)(1, \"button\", 23);\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelement(2, \"svg\", 24);\n    i0.ɵɵelementEnd();\n    i0.ɵɵnamespaceHTML();\n    i0.ɵɵelement(3, \"button\", 25);\n    i0.ɵɵelementStart(4, \"button\", 26);\n    i0.ɵɵlistener(\"click\", function ListProductosComponent_td_36_Template_button_click_4_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r29);\n      const element_r27 = restoredCtx.$implicit;\n      const ctx_r28 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r28.eliminarProducto(element_r27.id));\n    });\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const element_r27 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"routerLink\", \"/verPro/\" + element_r27.id);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"routerLink\", \"/editarPro/\" + element_r27.id);\n  }\n}\nfunction ListProductosComponent_tr_37_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"tr\", 27);\n  }\n}\nfunction ListProductosComponent_tr_38_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"tr\", 28);\n  }\n}\nconst _c0 = function () {\n  return [5, 10, 20];\n};\nexport class ListProductosComponent {\n  //   role: string = '';\n  //   mostrarBotonAgregar: boolean = true;\n  constructor(_snackBar, _productoService, route, router) {\n    this._snackBar = _snackBar;\n    this._productoService = _productoService;\n    this.route = route;\n    this.router = router;\n    this.displayedColumns = ['nombrePro', 'categoriaP', 'precio'];\n    this.dataSource = new MatTableDataSource();\n    this.loading = false;\n    this.productoList = [];\n    this.Id = '';\n    this.route.params.subscribe(params => {\n      this.Id = params['Id'].toString();\n    });\n  }\n  ngOnInit() {\n    this.obtenerProductos();\n  }\n  ngAfterViewInit() {\n    this.dataSource.paginator = this.paginator;\n    this.dataSource.sort = this.sort;\n    if (this.dataSource.data.length > 0 && this.paginator._intl) {\n      this.paginator._intl.itemsPerPageLabel = 'Items por pagina';\n    }\n  }\n  obtenerProductos() {\n    this._productoService.getProductosByLocalId(this.Id).subscribe(response => {\n      this.productoList = response;\n      this.dataSource.data = this.productoList;\n    });\n  }\n  applyFilter(event) {\n    const filterValue = event.target.value;\n    this.dataSource.filter = filterValue.trim().toLowerCase();\n  }\n  eliminarProducto(Id) {\n    this.loading = true;\n    this._productoService.deleteProducto(Id).subscribe(() => {\n      this.mensajeExito();\n      this.loading = false;\n      this.obtenerProductos();\n    });\n  }\n  mensajeExito() {\n    this._snackBar.open('Producto Eliminado Exitosamente', '', {\n      duration: 1500,\n      horizontalPosition: 'right'\n    });\n  }\n  verFichaAts(Id) {\n    this.router.navigate(['/verPro/', Id]);\n  }\n  agregarPro(Id) {\n    this.router.navigate(['/agregarPro/', Id]);\n  }\n  static #_ = this.ɵfac = function ListProductosComponent_Factory(t) {\n    return new (t || ListProductosComponent)(i0.ɵɵdirectiveInject(i1.MatSnackBar), i0.ɵɵdirectiveInject(i2.ProductoService), i0.ɵɵdirectiveInject(i3.ActivatedRoute), i0.ɵɵdirectiveInject(i3.Router));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ListProductosComponent,\n    selectors: [[\"app-list-productos\"]],\n    viewQuery: function ListProductosComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵviewQuery(MatPaginator, 5);\n        i0.ɵɵviewQuery(MatSort, 5);\n      }\n      if (rf & 2) {\n        let _t;\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.paginator = _t.first);\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.sort = _t.first);\n      }\n    },\n    decls: 40,\n    vars: 6,\n    consts: [[1, \"title\"], [4, \"ngIf\"], [1, \"container\"], [\"matInput\", \"\", \"placeholder\", \"\", \"autocomplete\", \"off\", 3, \"keyup\"], [\"input\", \"\"], [\"mat-table\", \"\", \"matSort\", \"\", 1, \"mat-elevation-z8\", 3, \"dataSource\"], [\"table\", \"\"], [\"matColumnDef\", \"nombrePro\"], [\"mat-header-cell\", \"\", 4, \"matHeaderCellDef\"], [\"mat-cell\", \"\", 4, \"matCellDef\"], [\"matColumnDef\", \"descripcionPro\"], [\"matColumnDef\", \"localid\"], [\"matColumnDef\", \"categoriaP\"], [\"matColumnDef\", \"cantidadPro\"], [\"matColumnDef\", \"precio\"], [\"matColumnDef\", \"imagen\"], [\"matColumnDef\", \"acciones\"], [\"routerLink\", \"/agregarPro\", \"mat-raised-button\", \"\", \"color\", \"primary\", 1, \"agregar\"], [\"mat-header-row\", \"\", 4, \"matHeaderRowDef\"], [\"mat-row\", \"\", 4, \"matRowDef\", \"matRowDefColumns\"], [\"showFirstLastButtons\", \"\", \"aria-label\", \"Select page of products\", 3, \"pageSizeOptions\"], [\"mat-header-cell\", \"\"], [\"mat-cell\", \"\"], [\"matTooltip\", \"Ver Producto\", 1, \"search-icon\", 3, \"routerLink\"], [\"xmlns\", \"http://www.w3.org/2000/svg\", \"width\", \"24\", \"height\", \"24\", \"viewBox\", \"0 0 24 24\"], [\"matTooltip\", \"Editar Producto\", 1, \"edit-icon\", 3, \"routerLink\"], [\"matTooltip\", \"Borrar Producto\", 1, \"delete-icon\", 3, \"click\"], [\"mat-header-row\", \"\"], [\"mat-row\", \"\"]],\n    template: function ListProductosComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"h1\");\n        i0.ɵɵtext(2, \"Listado de Productos\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵtemplate(3, ListProductosComponent_app_spinner_3_Template, 1, 0, \"app-spinner\", 1);\n        i0.ɵɵelementStart(4, \"div\", 2)(5, \"mat-form-field\")(6, \"mat-label\");\n        i0.ɵɵtext(7, \"Buscar\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(8, \"input\", 3, 4);\n        i0.ɵɵlistener(\"keyup\", function ListProductosComponent_Template_input_keyup_8_listener($event) {\n          return ctx.applyFilter($event);\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(10, \"table\", 5, 6);\n        i0.ɵɵelementContainerStart(12, 7);\n        i0.ɵɵtemplate(13, ListProductosComponent_th_13_Template, 2, 0, \"th\", 8);\n        i0.ɵɵtemplate(14, ListProductosComponent_td_14_Template, 2, 1, \"td\", 9);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵelementContainerStart(15, 10);\n        i0.ɵɵtemplate(16, ListProductosComponent_th_16_Template, 2, 0, \"th\", 8);\n        i0.ɵɵtemplate(17, ListProductosComponent_td_17_Template, 2, 1, \"td\", 9);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵelementContainerStart(18, 11);\n        i0.ɵɵtemplate(19, ListProductosComponent_th_19_Template, 2, 0, \"th\", 8);\n        i0.ɵɵtemplate(20, ListProductosComponent_td_20_Template, 2, 1, \"td\", 9);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵelementContainerStart(21, 12);\n        i0.ɵɵtemplate(22, ListProductosComponent_th_22_Template, 2, 0, \"th\", 8);\n        i0.ɵɵtemplate(23, ListProductosComponent_td_23_Template, 2, 1, \"td\", 9);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵelementContainerStart(24, 13);\n        i0.ɵɵtemplate(25, ListProductosComponent_th_25_Template, 2, 0, \"th\", 8);\n        i0.ɵɵtemplate(26, ListProductosComponent_td_26_Template, 2, 1, \"td\", 9);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵelementContainerStart(27, 14);\n        i0.ɵɵtemplate(28, ListProductosComponent_th_28_Template, 2, 0, \"th\", 8);\n        i0.ɵɵtemplate(29, ListProductosComponent_td_29_Template, 2, 1, \"td\", 9);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵelementContainerStart(30, 15);\n        i0.ɵɵtemplate(31, ListProductosComponent_th_31_Template, 2, 0, \"th\", 8);\n        i0.ɵɵtemplate(32, ListProductosComponent_td_32_Template, 2, 1, \"td\", 9);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵelementContainerStart(33, 16);\n        i0.ɵɵelementStart(34, \"button\", 17);\n        i0.ɵɵtext(35, \" Agregar \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(36, ListProductosComponent_td_36_Template, 5, 2, \"td\", 9);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵtemplate(37, ListProductosComponent_tr_37_Template, 1, 0, \"tr\", 18);\n        i0.ɵɵtemplate(38, ListProductosComponent_tr_38_Template, 1, 0, \"tr\", 19);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(39, \"mat-paginator\", 20);\n        i0.ɵɵelementEnd();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngIf\", ctx.loading);\n        i0.ɵɵadvance(7);\n        i0.ɵɵproperty(\"dataSource\", ctx.dataSource);\n        i0.ɵɵadvance(27);\n        i0.ɵɵproperty(\"matHeaderRowDef\", ctx.displayedColumns);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"matRowDefColumns\", ctx.displayedColumns);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"pageSizeOptions\", i0.ɵɵpureFunction0(5, _c0));\n      }\n    },\n    dependencies: [i4.NgIf, i3.RouterLink, i5.MatTable, i5.MatHeaderCellDef, i5.MatHeaderRowDef, i5.MatColumnDef, i5.MatCellDef, i5.MatRowDef, i5.MatHeaderCell, i5.MatCell, i5.MatHeaderRow, i5.MatRow, i6.MatPaginator, i7.MatSort, i8.MatFormField, i8.MatLabel, i9.MatInput, i10.MatTooltip, i11.MatButton, i12.SpinnerComponent],\n    styles: [\".agregar[_ngcontent-%COMP%] {\\r\\n    margin-bottom: 10px; \\r\\n  }\\r\\n  \\r\\n  \\r\\n  .search-icon[_ngcontent-%COMP%], .edit-icon[_ngcontent-%COMP%], .delete-icon[_ngcontent-%COMP%] {\\r\\n    background: none;\\r\\n    border: none;\\r\\n    cursor: pointer;\\r\\n    padding: 0;\\r\\n    margin: 0;\\r\\n    display: inline;\\r\\n    font-size: 24px; \\r\\n    color: #000000; \\r\\n  }\\r\\n  \\r\\n  \\r\\n  \\r\\n  \\r\\n  .agregar-icon[_ngcontent-%COMP%] {\\r\\n    background: none;\\r\\n    border: none;\\r\\n    cursor: pointer;\\r\\n    padding: 0;\\r\\n    margin-right: 10px; \\r\\n    font-size: 24px; \\r\\n    color: #ffffff; \\r\\n  }\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50cy9zdG9yZS9saXN0LXByb2R1Y3Rvcy9saXN0LXByb2R1Y3Rvcy5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLGtDQUFrQztBQUNsQztJQUNJLG1CQUFtQixFQUFFLGtEQUFrRDtFQUN6RTs7RUFFQSw0QkFBNEI7RUFDNUI7OztJQUdFLGdCQUFnQjtJQUNoQixZQUFZO0lBQ1osZUFBZTtJQUNmLFVBQVU7SUFDVixTQUFTO0lBQ1QsZUFBZTtJQUNmLGVBQWUsRUFBRSxtREFBbUQ7SUFDcEUsY0FBYyxFQUFFLGtEQUFrRDtFQUNwRTs7RUFFQSx3RkFBd0Y7O0VBRXhGLGdEQUFnRDtFQUNoRDtJQUNFLGdCQUFnQjtJQUNoQixZQUFZO0lBQ1osZUFBZTtJQUNmLFVBQVU7SUFDVixrQkFBa0IsRUFBRSxpREFBaUQ7SUFDckUsZUFBZSxFQUFFLG1EQUFtRDtJQUNwRSxjQUFjLEVBQUUsa0RBQWtEO0VBQ3BFIiwic291cmNlc0NvbnRlbnQiOlsiLyogRXN0aWxvcyBwYXJhIGVsIGJvdMODwrNuIEFncmVnYXIgKi9cclxuLmFncmVnYXIge1xyXG4gICAgbWFyZ2luLWJvdHRvbTogMTBweDsgLyogQWp1c3RhIGVsIG1hcmdlbiBpbmZlcmlvciBzZWfDg8K6biBzZWEgbmVjZXNhcmlvICovXHJcbiAgfVxyXG4gIFxyXG4gIC8qIEVzdGlsb3MgcGFyYSBsb3MgaWNvbm9zICovXHJcbiAgLnNlYXJjaC1pY29uLFxyXG4gIC5lZGl0LWljb24sXHJcbiAgLmRlbGV0ZS1pY29uIHtcclxuICAgIGJhY2tncm91bmQ6IG5vbmU7XHJcbiAgICBib3JkZXI6IG5vbmU7XHJcbiAgICBjdXJzb3I6IHBvaW50ZXI7XHJcbiAgICBwYWRkaW5nOiAwO1xyXG4gICAgbWFyZ2luOiAwO1xyXG4gICAgZGlzcGxheTogaW5saW5lO1xyXG4gICAgZm9udC1zaXplOiAyNHB4OyAvKiBBanVzdGEgZWwgdGFtYcODwrFvIGRlbCBpY29ubyBzZWfDg8K6biBzZWEgbmVjZXNhcmlvICovXHJcbiAgICBjb2xvcjogIzAwMDAwMDsgLyogQWp1c3RhIGVsIGNvbG9yIGRlbCBpY29ubyBzZWfDg8K6biBzZWEgbmVjZXNhcmlvICovXHJcbiAgfVxyXG4gIFxyXG4gIC8qIEHDg8KxYWRlIG3Dg8KhcyBlc3RpbG9zIHNlZ8ODwrpuIHNlYSBuZWNlc2FyaW8gcGFyYSBwZXJzb25hbGl6YXIgbGEgYXBhcmllbmNpYSBkZSBsb3MgaWNvbm9zICovXHJcbiAgXHJcbiAgLyogRXN0aWxvcyBlc3BlY8ODwq1maWNvcyBwYXJhIGVsIGljb25vIFwiQWdyZWdhclwiICovXHJcbiAgLmFncmVnYXItaWNvbiB7XHJcbiAgICBiYWNrZ3JvdW5kOiBub25lO1xyXG4gICAgYm9yZGVyOiBub25lO1xyXG4gICAgY3Vyc29yOiBwb2ludGVyO1xyXG4gICAgcGFkZGluZzogMDtcclxuICAgIG1hcmdpbi1yaWdodDogMTBweDsgLyogQWp1c3RhIGVsIG1hcmdlbiBkZXJlY2hvIHNlZ8ODwrpuIHNlYSBuZWNlc2FyaW8gKi9cclxuICAgIGZvbnQtc2l6ZTogMjRweDsgLyogQWp1c3RhIGVsIHRhbWHDg8KxbyBkZWwgaWNvbm8gc2Vnw4PCum4gc2VhIG5lY2VzYXJpbyAqL1xyXG4gICAgY29sb3I6ICNmZmZmZmY7IC8qIEFqdXN0YSBlbCBjb2xvciBkZWwgaWNvbm8gc2Vnw4PCum4gc2VhIG5lY2VzYXJpbyAqL1xyXG4gIH0iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n  });\n}","map":{"version":3,"mappings":"AACA,SAASA,YAAY,QAAQ,6BAA6B;AAE1D,SAASC,OAAO,QAAQ,wBAAwB;AAEhD,SAASC,kBAAkB,QAAQ,yBAAyB;;;;;;;;;;;;;;;;ICF5DC,8BAA2C;;;;;IAc/BA,8BAAsC;IAACA,wBAAO;IAAAA,iBAAK;;;;;IACnDA,8BAAuC;IAAAA,YAAsB;IAAAA,iBAAK;;;;IAA3BA,eAAsB;IAAtBA,qDAAsB;;;;;IAK7DA,8BAAsC;IAACA,kCAAY;IAAAA,iBAAK;;;;;IACxDA,8BAAuC;IAAAA,YAA2B;IAAAA,iBAAK;;;;IAAhCA,eAA2B;IAA3BA,0DAA2B;;;;;IAKlEA,8BAAsC;IAACA,0BAAS;IAAAA,iBAAK;;;;;IACrDA,8BAAuC;IAAAA,YAAoB;IAAAA,iBAAK;;;;IAAzBA,eAAoB;IAApBA,mDAAoB;;;;;IAK3DA,8BAAsC;IAACA,gCAAU;IAAAA,iBAAK;;;;;IACtDA,8BAAuC;IAAAA,YAAuB;IAAAA,iBAAK;;;;IAA5BA,eAAuB;IAAvBA,sDAAuB;;;;;IAK9DA,8BAAsC;IAACA,0BAAS;IAAAA,iBAAK;;;;;IACrDA,8BAAuC;IAACA,YAAwB;IAAAA,iBAAK;;;;IAA7BA,eAAwB;IAAxBA,wDAAwB;;;;;IAKhEA,8BAAsC;IAACA,wBAAO;IAAAA,iBAAK;;;;;IACnDA,8BAAuC;IAACA,YAAmB;IAAAA,iBAAK;;;;IAAxBA,eAAmB;IAAnBA,mDAAmB;;;;;IAK3DA,8BAAsC;IAACA,wBAAO;IAAAA,iBAAK;;;;;IACnDA,8BAAuC;IAACA,YAAmB;IAAAA,iBAAK;;;;IAAxBA,eAAmB;IAAnBA,mDAAmB;;;;;;IAW3DA,8BAAuC;IAG/BA,mBAAmF;IAAnFA,0BAEM;IACVA,iBAAS;IAETA,oBAAiG;IAAjGA,6BAES;IAETA,kCAAgG;IAAxFA;MAAA;MAAA;MAAA;MAAA,OAASA,uDAA4B;IAAA,EAAC;IAE9CA,iBAAS;;;;IAZDA,eAAsC;IAAtCA,wDAAsC;IAMtCA,eAAyC;IAAzCA,2DAAyC;;;;;IAUzDA,yBAA4D;;;;;IAC5DA,yBAAkE;;;;;;ADrE1E,OAAM,MAAOC,sBAAsB;EAQnC;EACA;EAEEC,YACYC,SAAsB,EACtBC,gBAAiC,EACjCC,KAAqB,EACrBC,MAAc;IAHd,cAAS,GAATH,SAAS;IACT,qBAAgB,GAAhBC,gBAAgB;IAChB,UAAK,GAALC,KAAK;IACL,WAAM,GAANC,MAAM;IAdlB,qBAAgB,GAAa,CAAC,WAAW,EAAE,YAAY,EAAE,QAAQ,CAAC;IAClE,eAAU,GAAG,IAAIP,kBAAkB,EAAY;IAC/C,YAAO,GAAY,KAAK;IAGxB,iBAAY,GAAe,EAAE;IAC7B,OAAE,GAAW,EAAE;IAYX,IAAI,CAACM,KAAK,CAACE,MAAM,CAACC,SAAS,CAACD,MAAM,IAAG;MACjC,IAAI,CAACE,EAAE,GAAGF,MAAM,CAAC,IAAI,CAAC,CAACG,QAAQ,EAAE;IACrC,CAAC,CAAC;EACN;EAEAC,QAAQ;IAEF,IAAI,CAACC,gBAAgB,EAAE;EAGzB;EAGJC,eAAe;IACX,IAAI,CAACC,UAAU,CAACC,SAAS,GAAG,IAAI,CAACA,SAAS;IAC1C,IAAI,CAACD,UAAU,CAACE,IAAI,GAAG,IAAI,CAACA,IAAI;IAChC,IAAI,IAAI,CAACF,UAAU,CAACG,IAAI,CAACC,MAAM,GAAG,CAAC,IAAI,IAAI,CAACH,SAAS,CAACI,KAAK,EAAE;MACzD,IAAI,CAACJ,SAAS,CAACI,KAAK,CAACC,iBAAiB,GAAG,kBAAkB;;EAEnE;EAEAR,gBAAgB;IACZ,IAAI,CAACR,gBAAgB,CAACiB,qBAAqB,CAAC,IAAI,CAACZ,EAAE,CAAC,CAACD,SAAS,CAACc,QAAQ,IAAG;MACtE,IAAI,CAACC,YAAY,GAAGD,QAAQ;MAC5B,IAAI,CAACR,UAAU,CAACG,IAAI,GAAG,IAAI,CAACM,YAAY;IAG5C,CAAC,CAAC;EACN;EAEAC,WAAW,CAACC,KAAY;IACpB,MAAMC,WAAW,GAAID,KAAK,CAACE,MAA2B,CAACC,KAAK;IAC5D,IAAI,CAACd,UAAU,CAACe,MAAM,GAAGH,WAAW,CAACI,IAAI,EAAE,CAACC,WAAW,EAAE;EAC7D;EAEAC,gBAAgB,CAACvB,EAAU;IACvB,IAAI,CAACwB,OAAO,GAAG,IAAI;IACnB,IAAI,CAAC7B,gBAAgB,CAAC8B,cAAc,CAACzB,EAAE,CAAC,CAACD,SAAS,CAAC,MAAK;MACpD,IAAI,CAAC2B,YAAY,EAAE;MACnB,IAAI,CAACF,OAAO,GAAG,KAAK;MACpB,IAAI,CAACrB,gBAAgB,EAAE;IAC3B,CAAC,CAAC;EACN;EAEAuB,YAAY;IACR,IAAI,CAAChC,SAAS,CAACiC,IAAI,CAAC,iCAAiC,EAAE,EAAE,EAAE;MACvDC,QAAQ,EAAE,IAAI;MACdC,kBAAkB,EAAE;KACvB,CAAC;EACN;EAEAC,WAAW,CAAC9B,EAAU;IAClB,IAAI,CAACH,MAAM,CAACkC,QAAQ,CAAC,CAAC,UAAU,EAAE/B,EAAE,CAAC,CAAC;EACxC;EACAgC,UAAU,CAAChC,EAAU;IACjB,IAAI,CAACH,MAAM,CAACkC,QAAQ,CAAC,CAAC,cAAc,EAAE/B,EAAE,CAAC,CAAC;EAC5C;EAAC;qBA3EMR,sBAAsB;EAAA;EAAA;UAAtBA,sBAAsB;IAAAyC;IAAAC;MAAA;uBAItB9C,YAAY;uBACZC,OAAO;;;;;;;;;;;;;QCpBpBE,8BAAmB;QACXA,oCAAoB;QAAAA,iBAAK;QAEjCA,uFAA2C;QAC3CA,8BAAuB;QAEJA,sBAAM;QAAAA,iBAAY;QAC7BA,mCAAuF;QAAvEA;UAAA,OAAS4C,uBAAmB;QAAA,EAAC;QAA7C5C,iBAAuF;QAG3FA,oCAAmF;QAM/EA,iCAAuC;QACnCA,uEAAmD;QACnDA,uEAAkE;QACtEA,0BAAe;QAGfA,kCAA4C;QACxCA,uEAAwD;QACxDA,uEAAuE;QAC3EA,0BAAe;QAGfA,kCAAqC;QACjCA,uEAAqD;QACrDA,uEAAgE;QACpEA,0BAAe;QAGfA,kCAAwC;QACpCA,uEAAsD;QACtDA,uEAAmE;QACvEA,0BAAe;QAGfA,kCAAyC;QACrCA,uEAAqD;QACrDA,uEAAqE;QACzEA,0BAAe;QAGfA,kCAAoC;QAChCA,uEAAmD;QACnDA,uEAAgE;QACpEA,0BAAe;QAGfA,kCAAoC;QAChCA,uEAAmD;QACnDA,uEAAgE;QACpEA,0BAAe;QAKfA,kCAAsC;QAC9BA,mCAAmF;QAC/EA,0BACJ;QAAAA,iBAAS;QAEbA,uEAeK;QACTA,0BAAe;QAEfA,wEAA4D;QAC5DA,wEAAkE;QACtEA,iBAAQ;QAERA,qCAAyH;QAE7HA,iBAAM;;;QAtFQA,eAAa;QAAbA,kCAAa;QAOCA,eAAyB;QAAzBA,2CAAyB;QAyEzBA,gBAAiC;QAAjCA,sDAAiC;QACpBA,eAA0B;QAA1BA,uDAA0B;QAGhDA,eAA+B;QAA/BA,4DAA+B","names":["MatPaginator","MatSort","MatTableDataSource","i0","ListProductosComponent","constructor","_snackBar","_productoService","route","router","params","subscribe","Id","toString","ngOnInit","obtenerProductos","ngAfterViewInit","dataSource","paginator","sort","data","length","_intl","itemsPerPageLabel","getProductosByLocalId","response","productoList","applyFilter","event","filterValue","target","value","filter","trim","toLowerCase","eliminarProducto","loading","deleteProducto","mensajeExito","open","duration","horizontalPosition","verFichaAts","navigate","agregarPro","selectors","viewQuery","ctx"],"sourceRoot":"","sources":["C:\\Users\\54351\\Desktop\\Practica1\\Front\\src\\app\\components\\store\\list-productos\\list-productos.component.ts","C:\\Users\\54351\\Desktop\\Practica1\\Front\\src\\app\\components\\store\\list-productos\\list-productos.component.html"],"sourcesContent":["import { AfterViewInit, Component, OnInit, ViewChild } from '@angular/core';\nimport { MatPaginator } from '@angular/material/paginator';\nimport { MatSnackBar } from '@angular/material/snack-bar';\nimport { MatSort } from '@angular/material/sort';\n\nimport { MatTableDataSource } from '@angular/material/table';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { Producto } from 'src/app/interfaces/producto';\nimport { ProductoService } from 'src/app/services/producto.service';\n\n@Component({\n  selector: 'app-list-productos',\n  templateUrl: './list-productos.component.html',\n  styleUrls: ['./list-productos.component.css']\n})\nexport class ListProductosComponent implements OnInit, AfterViewInit {\n  displayedColumns: string[] = ['nombrePro', 'categoriaP', 'precio'];\n  dataSource = new MatTableDataSource<Producto>();\n  loading: boolean = false;\n  @ViewChild(MatPaginator) paginator!: MatPaginator;\n  @ViewChild(MatSort) sort!: MatSort;\n  productoList: Producto[] = [];\n  Id: string = '';\n//   role: string = '';\n//   mostrarBotonAgregar: boolean = true;\n  \n  constructor(\n      private _snackBar: MatSnackBar,\n      private _productoService: ProductoService,\n      private route: ActivatedRoute,\n      private router: Router,\n  \n  \n  ) {\n      this.route.params.subscribe(params => {\n          this.Id = params['Id'].toString();\n      });\n  }\n  \n  ngOnInit(): void {\n   \n        this.obtenerProductos();\n      \n  \n      }\n    \n     \n  ngAfterViewInit() {\n      this.dataSource.paginator = this.paginator;\n      this.dataSource.sort = this.sort;\n      if (this.dataSource.data.length > 0 && this.paginator._intl) {\n          this.paginator._intl.itemsPerPageLabel = 'Items por pagina'\n      }\n  }\n  \n  obtenerProductos() {\n      this._productoService.getProductosByLocalId(this.Id).subscribe(response => {\n          this.productoList = response;\n          this.dataSource.data = this.productoList;\n  \n     \n      });\n  }\n  \n  applyFilter(event: Event) {\n      const filterValue = (event.target as HTMLInputElement).value;\n      this.dataSource.filter = filterValue.trim().toLowerCase();\n  }\n  \n  eliminarProducto(Id: number) {\n      this.loading = true;\n      this._productoService.deleteProducto(Id).subscribe(() => {\n          this.mensajeExito();\n          this.loading = false;\n          this.obtenerProductos();\n      });\n  }\n  \n  mensajeExito() {\n      this._snackBar.open('Producto Eliminado Exitosamente', '', {\n          duration: 1500,\n          horizontalPosition: 'right'\n      });\n  }\n  \n  verFichaAts(Id: number) {\n      this.router.navigate(['/verPro/', Id]);\n    }\n    agregarPro(Id: number) {\n        this.router.navigate(['/agregarPro/', Id]);\n      }\n  }","<div class=\"title\">\n    <h1>Listado de Productos</h1>\n</div>\n<app-spinner *ngIf=\"loading\"></app-spinner>\n<div class=\"container\">\n    <mat-form-field>\n        <mat-label>Buscar</mat-label>\n        <input matInput (keyup)=\"applyFilter($event)\" placeholder=\"\" #input autocomplete=\"off\">\n    </mat-form-field>\n\n    <table mat-table #table [dataSource]=\"dataSource\" class=\"mat-elevation-z8\" matSort>\n\n        <!--- Note that these columns can be defined in any order.\n          The actual rendered columns are set as a property on the row definition\" -->\n\n        <!-- NOMBRE Column -->\n        <ng-container matColumnDef=\"nombrePro\">\n            <th mat-header-cell *matHeaderCellDef> Nombre </th>\n            <td mat-cell *matCellDef=\"let element\">{{element.nombrePro}} </td>\n        </ng-container>\n\n        <!-- DESCRIPCION Column -->\n        <ng-container matColumnDef=\"descripcionPro\">\n            <th mat-header-cell *matHeaderCellDef> Descripción </th>\n            <td mat-cell *matCellDef=\"let element\">{{element.descripcionPro}} </td>\n        </ng-container>\n\n        <!-- LOCALID Column -->\n        <ng-container matColumnDef=\"localid\">\n            <th mat-header-cell *matHeaderCellDef> Local ID </th>\n            <td mat-cell *matCellDef=\"let element\">{{element.localid}} </td>\n        </ng-container>\n\n        <!-- CATEGORIAP Column -->\n        <ng-container matColumnDef=\"categoriaP\">\n            <th mat-header-cell *matHeaderCellDef> Categoría </th>\n            <td mat-cell *matCellDef=\"let element\">{{element.categoriaP}} </td>\n        </ng-container>\n\n        <!-- CANTIDAD Column -->\n        <ng-container matColumnDef=\"cantidadPro\">\n            <th mat-header-cell *matHeaderCellDef> Cantidad </th>\n            <td mat-cell *matCellDef=\"let element\"> {{element.cantidadPro}} </td>\n        </ng-container>\n\n        <!-- PRECIO Column -->\n        <ng-container matColumnDef=\"precio\">\n            <th mat-header-cell *matHeaderCellDef> Precio </th>\n            <td mat-cell *matCellDef=\"let element\"> {{element.precio}} </td>\n        </ng-container>\n\n        <!-- IMAGEN Column -->\n        <ng-container matColumnDef=\"imagen\">\n            <th mat-header-cell *matHeaderCellDef> Imagen </th>\n            <td mat-cell *matCellDef=\"let element\"> {{element.imagen}} </td>\n        </ng-container>\n\n        <!-- ACCIONES Column -->\n\n        <!-- Icono de Agregar -->\n        <ng-container matColumnDef=\"acciones\">\n                <button routerLink=\"/agregarPro\" class=\"agregar\" mat-raised-button color=\"primary\">\n                    Agregar\n                </button>\n           \n            <td mat-cell *matCellDef=\"let element\">\n                <!-- Icono de Ver Producto -->\n                <button [routerLink]=\"'/verPro/' + element.id\" matTooltip=\"Ver Producto\" class=\"search-icon\">\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n                        <!-- Inserta aquí el contenido SVG para el icono de búsqueda -->\n                    </svg>   \n                </button>\n                <!-- Icono de Editar Producto -->\n                <button [routerLink]=\"'/editarPro/' + element.id\" matTooltip=\"Editar Producto\" class=\"edit-icon\">\n                    <!-- Inserta aquí el contenido SVG para el icono de editar -->\n                </button>\n                <!-- Icono de Borrar Producto -->\n                <button (click)=\"eliminarProducto(element.id)\" matTooltip=\"Borrar Producto\" class=\"delete-icon\">\n                    <!-- Inserta aquí el contenido SVG para el icono de eliminar -->\n                </button>\n            </td>\n        </ng-container>\n\n        <tr mat-header-row *matHeaderRowDef=\"displayedColumns\"></tr>\n        <tr mat-row *matRowDef=\"let row; columns: displayedColumns;\"></tr>\n    </table>\n\n    <mat-paginator [pageSizeOptions]=\"[5, 10, 20]\" showFirstLastButtons aria-label=\"Select page of products\"></mat-paginator>\n\n</div>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}