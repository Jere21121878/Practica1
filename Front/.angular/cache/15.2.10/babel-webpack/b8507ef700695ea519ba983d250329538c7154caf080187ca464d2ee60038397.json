{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"src/app/services/authentication.service\";\nimport * as i3 from \"src/app/services/detalle-compra.service\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"@angular/forms\";\nfunction NavbarComponent_span_29_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 23);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r0.contadorProductos);\n  }\n}\nfunction NavbarComponent_li_30_ul_4_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"ul\", 28)(1, \"li\")(2, \"a\", 4);\n    i0.ɵɵtext(3, \"Perfil\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(4, \"li\")(5, \"a\", 29);\n    i0.ɵɵlistener(\"click\", function NavbarComponent_li_30_ul_4_Template_a_click_5_listener() {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r4 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r4.logout());\n    });\n    i0.ɵɵtext(6, \"Cerrar sesi\\u00F3n\");\n    i0.ɵɵelementEnd()()();\n  }\n}\nfunction NavbarComponent_li_30_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"li\", 24);\n    i0.ɵɵlistener(\"click\", function NavbarComponent_li_30_Template_li_click_0_listener() {\n      i0.ɵɵrestoreView(_r7);\n      const ctx_r6 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r6.toggleDropdown());\n    });\n    i0.ɵɵelementStart(1, \"a\", 25);\n    i0.ɵɵelement(2, \"i\", 26);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(4, NavbarComponent_li_30_ul_4_Template, 7, 0, \"ul\", 27);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.userName, \"\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.isDropdownOpen);\n  }\n}\nfunction NavbarComponent_li_31_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\")(1, \"a\", 30);\n    i0.ɵɵelement(2, \"i\", 31);\n    i0.ɵɵtext(3, \" Iniciar Sesi\\u00F3n\");\n    i0.ɵɵelementEnd()();\n  }\n}\nexport class NavbarComponent {\n  constructor(router, authService, detalleCompraService) {\n    this.router = router;\n    this.authService = authService;\n    this.detalleCompraService = detalleCompraService;\n    this.isLoggedIn = false;\n    this.userName = '';\n    this.contadorProductos = 0;\n    this.searchTerm = '';\n    this.isDropdownOpen = false;\n  }\n  ngOnInit() {\n    this.authService.isLoggedIn$.subscribe(isLoggedIn => {\n      this.isLoggedIn = isLoggedIn;\n      if (isLoggedIn) {\n        const userDataString = localStorage.getItem('userData');\n        if (userDataString) {\n          this.userData = JSON.parse(userDataString);\n          this.userName = this.userData.nombre;\n          // Obtener la cantidad de detalles de compra para el usuario actual\n          this.detalleCompraService.getCantidadDetalleCompraPorUsuario(this.userData.userId).subscribe(count => {\n            this.contadorProductos = count;\n          });\n        }\n      }\n    });\n  }\n  search() {\n    this.router.navigate(['/search'], {\n      queryParams: {\n        term: this.searchTerm\n      }\n    });\n  }\n  logout() {\n    this.authService.logout();\n    this.router.navigate(['/login']);\n  }\n  toggleDropdown() {\n    this.isDropdownOpen = !this.isDropdownOpen;\n  }\n  static #_ = this.ɵfac = function NavbarComponent_Factory(t) {\n    return new (t || NavbarComponent)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.AuthenticationService), i0.ɵɵdirectiveInject(i3.DetalleCompraService));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: NavbarComponent,\n    selectors: [[\"app-navbar\"]],\n    decls: 34,\n    vars: 4,\n    consts: [[\"charset\", \"utf-8\"], [\"name\", \"viewport\", \"content\", \"width=device-width, initial-scale=1\"], [\"rel\", \"stylesheet\", \"href\", \"https://use.fontawesome.com/releases/v5.10.2/css/all.css\"], [1, \"brand-logo\"], [\"href\", \"#\"], [\"src\", \"/assets/og.jpg\", \"alt\", \"Brand Logo\"], [1, \"search-bar\"], [\"type\", \"text\", \"placeholder\", \"Search...\", 3, \"ngModel\", \"ngModelChange\", \"keyup.enter\"], [1, \"search-btn\", 3, \"click\"], [1, \"fas\", \"fa-search\"], [\"type\", \"checkbox\", \"id\", \"toggle-btn\"], [\"for\", \"toggle-btn\", 1, \"show-menu-btn\"], [1, \"fas\", \"fa-bars\"], [1, \"navigation\"], [1, \"fas\", \"fa-house-damage\"], [1, \"fa-solid\", \"fa-user-shield\"], [\"href\", \"carro\"], [1, \"fas\", \"fa-shopping-cart\"], [\"class\", \"notification-badge\", 4, \"ngIf\"], [3, \"click\", 4, \"ngIf\"], [4, \"ngIf\"], [\"for\", \"toggle-btn\", 1, \"hide-menu-btn\"], [1, \"fas\", \"fa-times\"], [1, \"notification-badge\"], [3, \"click\"], [1, \"login-btn\"], [1, \"fas\", \"fa-user\"], [\"class\", \"dropdown-menu\", 4, \"ngIf\"], [1, \"dropdown-menu\"], [\"href\", \"#\", 3, \"click\"], [\"href\", \"login\", 1, \"login-btn\"], [1, \"fas\", \"fa-sign-in-alt\"]],\n    template: function NavbarComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"head\");\n        i0.ɵɵelement(1, \"meta\", 0)(2, \"meta\", 1)(3, \"link\", 2);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(4, \"body\")(5, \"header\")(6, \"div\", 3)(7, \"a\", 4);\n        i0.ɵɵelement(8, \"img\", 5);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(9, \"div\", 6)(10, \"input\", 7);\n        i0.ɵɵlistener(\"ngModelChange\", function NavbarComponent_Template_input_ngModelChange_10_listener($event) {\n          return ctx.searchTerm = $event;\n        })(\"keyup.enter\", function NavbarComponent_Template_input_keyup_enter_10_listener() {\n          return ctx.search();\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(11, \"button\", 8);\n        i0.ɵɵlistener(\"click\", function NavbarComponent_Template_button_click_11_listener() {\n          return ctx.search();\n        });\n        i0.ɵɵelement(12, \"i\", 9);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelement(13, \"input\", 10);\n        i0.ɵɵelementStart(14, \"label\", 11);\n        i0.ɵɵelement(15, \"i\", 12);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(16, \"ul\", 13)(17, \"li\")(18, \"a\", 4);\n        i0.ɵɵelement(19, \"i\", 14);\n        i0.ɵɵtext(20, \" Home\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(21, \"li\")(22, \"a\", 4);\n        i0.ɵɵelement(23, \"i\", 15);\n        i0.ɵɵtext(24, \" Seguridad\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(25, \"li\")(26, \"a\", 16);\n        i0.ɵɵelement(27, \"i\", 17);\n        i0.ɵɵtext(28, \" Carro \");\n        i0.ɵɵtemplate(29, NavbarComponent_span_29_Template, 2, 1, \"span\", 18);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵtemplate(30, NavbarComponent_li_30_Template, 5, 2, \"li\", 19);\n        i0.ɵɵtemplate(31, NavbarComponent_li_31_Template, 4, 0, \"li\", 20);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(32, \"label\", 21);\n        i0.ɵɵelement(33, \"i\", 22);\n        i0.ɵɵelementEnd()()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(10);\n        i0.ɵɵproperty(\"ngModel\", ctx.searchTerm);\n        i0.ɵɵadvance(19);\n        i0.ɵɵproperty(\"ngIf\", ctx.contadorProductos > 0);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.isLoggedIn);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", !ctx.isLoggedIn);\n      }\n    },\n    dependencies: [i4.NgIf, i5.DefaultValueAccessor, i5.NgControlStatus, i5.NgModel],\n    styles: [\"*[_ngcontent-%COMP%] {\\r\\n  margin: 0;\\r\\n  padding: 0;\\r\\n  box-sizing: border-box;\\r\\n  font-family: arial;\\r\\n}\\r\\n\\r\\nheader[_ngcontent-%COMP%] {\\r\\n  height: 100%;\\r\\n  width: 100%;\\r\\n  float: left;\\r\\n  background: #9b0e0e;\\r\\n  padding: 0 20px;\\r\\n  color: #fff;\\r\\n}\\r\\n\\r\\n.brand-logo[_ngcontent-%COMP%] {\\r\\n  max-width: 75px;\\r\\n  float: left;\\r\\n  padding: 14px 0px;\\r\\n  border-radius: 50%;\\r\\n  overflow: hidden;\\r\\n}\\r\\n\\r\\n.brand-logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%] {\\r\\n  max-width: 100%;\\r\\n  border-radius: 50%;\\r\\n}\\r\\n\\r\\n.navigation[_ngcontent-%COMP%] {\\r\\n  margin: 0px;\\r\\n  float: right;\\r\\n}\\r\\n\\r\\n.navigation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] {\\r\\n  list-style: none;\\r\\n  float: left;\\r\\n  margin-right: 10px;\\r\\n}\\r\\n\\r\\n.navigation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] {\\r\\n  color: #fff;\\r\\n  padding: 28px 15px;\\r\\n  text-transform: uppercase;\\r\\n  text-align: center;\\r\\n  display: block;\\r\\n  text-decoration: none;\\r\\n}\\r\\n\\r\\n.navigation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   i[_ngcontent-%COMP%] {\\r\\n  width: 100%;\\r\\n  font-size: 20px;\\r\\n  margin-bottom: 7px;\\r\\n}\\r\\n\\r\\n.show-menu-btn[_ngcontent-%COMP%], .hide-menu-btn[_ngcontent-%COMP%] {\\r\\n  transition: 0.4s;\\r\\n  font-size: 30px;\\r\\n  cursor: pointer;\\r\\n  display: none;\\r\\n}\\r\\n\\r\\n.show-menu-btn[_ngcontent-%COMP%] {\\r\\n  margin: 0px;\\r\\n  float: right;\\r\\n}\\r\\n\\r\\n.show-menu-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%] {\\r\\n  line-height: 100px;\\r\\n}\\r\\n\\r\\n.navigation[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .show-menu-btn[_ngcontent-%COMP%]:hover, .hide-menu-btn[_ngcontent-%COMP%]:hover {\\r\\n  color: #00ff0a;\\r\\n}\\r\\n\\r\\n#toggle-btn[_ngcontent-%COMP%] {\\r\\n  position: absolute;\\r\\n  visibility: hidden;\\r\\n  z-index: -1111;\\r\\n}\\r\\n\\r\\n\\r\\n@media screen and (max-width:767px) {\\r\\n  .show-menu-btn[_ngcontent-%COMP%], .hide-menu-btn[_ngcontent-%COMP%] {\\r\\n      display: block;\\r\\n  }\\r\\n\\r\\n  .navigation[_ngcontent-%COMP%] {\\r\\n      position: fixed;\\r\\n      width: 100%;\\r\\n      height: 100vh;\\r\\n      background: #ac1616;\\r\\n      top: -100%;\\r\\n      left: 0;\\r\\n      padding: 50px 0px;\\r\\n      transition: 1s;\\r\\n  }\\r\\n\\r\\n  .navigation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] {\\r\\n      list-style: none;\\r\\n      float: left;\\r\\n  }\\r\\n\\r\\n  .navigation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] {\\r\\n      padding: 15px 15px;\\r\\n      text-align: left;\\r\\n  }\\r\\n\\r\\n  .navigation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   i[_ngcontent-%COMP%] {\\r\\n      width: auto;\\r\\n      font-size: 20px;\\r\\n  }\\r\\n\\r\\n  .hide-menu-btn[_ngcontent-%COMP%] {\\r\\n      position: absolute;\\r\\n      top: 15px;\\r\\n      right: 20px;\\r\\n  }\\r\\n\\r\\n  #toggle-btn[_ngcontent-%COMP%]:checked    ~ nav[_ngcontent-%COMP%]   .navigation[_ngcontent-%COMP%] {\\r\\n      top: 0px;\\r\\n  }\\r\\n}\\r\\n\\r\\n.button-container[_ngcontent-%COMP%] {\\r\\n  float: right;\\r\\n  display: flex;\\r\\n  align-items: center;\\r\\n  margin-right: 20px;\\r\\n}\\r\\n\\r\\n.button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%] {\\r\\n  margin-left: 10px;\\r\\n}\\r\\n\\r\\n.login-btn[_ngcontent-%COMP%] {\\r\\n  background: none;\\r\\n  border: none;\\r\\n  color: #fff;\\r\\n  font-size: 16px;\\r\\n  cursor: pointer;\\r\\n  text-decoration: none;\\r\\n}\\r\\n\\r\\n.login-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%] {\\r\\n  margin-right: 5px;\\r\\n}\\r\\n\\r\\n.search-bar[_ngcontent-%COMP%] {\\r\\n  float: left;\\r\\n  display: flex;\\r\\n  align-items: flex-end;\\r\\n  margin-right: 20px;\\r\\n  margin-left: auto;\\r\\n}\\r\\n\\r\\n.search-bar[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] {\\r\\n  padding: 10px;\\r\\n  border: none;\\r\\n  border-radius: 5px;\\r\\n  margin-right: 5px;\\r\\n  margin-left: 52px;\\r\\n  width: 400px;\\r\\n  margin-top: 30px;\\r\\n}\\r\\n\\r\\n.search-bar[_ngcontent-%COMP%]   .search-btn[_ngcontent-%COMP%] {\\r\\n  padding: 10px;\\r\\n  background-color: #fff;\\r\\n  border: none;\\r\\n  border-radius: 5px;\\r\\n  cursor: pointer;\\r\\n}\\r\\n\\r\\n.search-bar[_ngcontent-%COMP%]   .search-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%] {\\r\\n  color: #9b0e0e;\\r\\n}\\r\\n\\r\\n.dropdown-menu[_ngcontent-%COMP%] {\\r\\n  display: none;\\r\\n  position: absolute;\\r\\n  background-color: #ac1616;\\r\\n  min-width: 200px;\\r\\n  box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);\\r\\n  z-index: 999;\\r\\n  left: auto; \\r\\n  right: 0; \\r\\n  top: 100%;\\r\\n}\\r\\n\\r\\n.dropdown-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] {\\r\\n  float: none; \\r\\n  text-align: left; \\r\\n}\\r\\n\\r\\n.dropdown-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] {\\r\\n  display: block;\\r\\n  padding: 12px 16px;\\r\\n  text-decoration: none;\\r\\n  color: white;\\r\\n}\\r\\n\\r\\n.dropdown-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover {\\r\\n  background-color: #f7ca00; \\r\\n}\\r\\n\\r\\n.navigation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] {\\r\\n  position: relative; \\r\\n}\\r\\n\\r\\n.navigation[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover   .dropdown-menu[_ngcontent-%COMP%] {\\r\\n  display: block; \\r\\n}.notification-badge[_ngcontent-%COMP%] {\\r\\n  position: absolute;\\r\\n  top:0;\\r\\n  right: 5;\\r\\n  background-color: red;\\r\\n  color: white;\\r\\n  border-radius: 50%;\\r\\n  padding: 4px 8px;\\r\\n  font-size: 12px;\\r\\n  font-weight: bold;\\r\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50cy9uYXZiYXIvbmF2YmFyLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxTQUFTO0VBQ1QsVUFBVTtFQUNWLHNCQUFzQjtFQUN0QixrQkFBa0I7QUFDcEI7O0FBRUE7RUFDRSxZQUFZO0VBQ1osV0FBVztFQUNYLFdBQVc7RUFDWCxtQkFBbUI7RUFDbkIsZUFBZTtFQUNmLFdBQVc7QUFDYjs7QUFFQTtFQUNFLGVBQWU7RUFDZixXQUFXO0VBQ1gsaUJBQWlCO0VBQ2pCLGtCQUFrQjtFQUNsQixnQkFBZ0I7QUFDbEI7O0FBRUE7RUFDRSxlQUFlO0VBQ2Ysa0JBQWtCO0FBQ3BCOztBQUVBO0VBQ0UsV0FBVztFQUNYLFlBQVk7QUFDZDs7QUFFQTtFQUNFLGdCQUFnQjtFQUNoQixXQUFXO0VBQ1gsa0JBQWtCO0FBQ3BCOztBQUVBO0VBQ0UsV0FBVztFQUNYLGtCQUFrQjtFQUNsQix5QkFBeUI7RUFDekIsa0JBQWtCO0VBQ2xCLGNBQWM7RUFDZCxxQkFBcUI7QUFDdkI7O0FBRUE7RUFDRSxXQUFXO0VBQ1gsZUFBZTtFQUNmLGtCQUFrQjtBQUNwQjs7QUFFQTs7RUFFRSxnQkFBZ0I7RUFDaEIsZUFBZTtFQUNmLGVBQWU7RUFDZixhQUFhO0FBQ2Y7O0FBRUE7RUFDRSxXQUFXO0VBQ1gsWUFBWTtBQUNkOztBQUVBO0VBQ0Usa0JBQWtCO0FBQ3BCOztBQUVBOzs7RUFHRSxjQUFjO0FBQ2hCOztBQUVBO0VBQ0Usa0JBQWtCO0VBQ2xCLGtCQUFrQjtFQUNsQixjQUFjO0FBQ2hCOztBQUVBLHVCQUF1QjtBQUN2QjtFQUNFOztNQUVJLGNBQWM7RUFDbEI7O0VBRUE7TUFDSSxlQUFlO01BQ2YsV0FBVztNQUNYLGFBQWE7TUFDYixtQkFBbUI7TUFDbkIsVUFBVTtNQUNWLE9BQU87TUFDUCxpQkFBaUI7TUFDakIsY0FBYztFQUNsQjs7RUFFQTtNQUNJLGdCQUFnQjtNQUNoQixXQUFXO0VBQ2Y7O0VBRUE7TUFDSSxrQkFBa0I7TUFDbEIsZ0JBQWdCO0VBQ3BCOztFQUVBO01BQ0ksV0FBVztNQUNYLGVBQWU7RUFDbkI7O0VBRUE7TUFDSSxrQkFBa0I7TUFDbEIsU0FBUztNQUNULFdBQVc7RUFDZjs7RUFFQTtNQUNJLFFBQVE7RUFDWjtBQUNGOztBQUVBO0VBQ0UsWUFBWTtFQUNaLGFBQWE7RUFDYixtQkFBbUI7RUFDbkIsa0JBQWtCO0FBQ3BCOztBQUVBO0VBQ0UsaUJBQWlCO0FBQ25COztBQUVBO0VBQ0UsZ0JBQWdCO0VBQ2hCLFlBQVk7RUFDWixXQUFXO0VBQ1gsZUFBZTtFQUNmLGVBQWU7RUFDZixxQkFBcUI7QUFDdkI7O0FBRUE7RUFDRSxpQkFBaUI7QUFDbkI7O0FBRUE7RUFDRSxXQUFXO0VBQ1gsYUFBYTtFQUNiLHFCQUFxQjtFQUNyQixrQkFBa0I7RUFDbEIsaUJBQWlCO0FBQ25COztBQUVBO0VBQ0UsYUFBYTtFQUNiLFlBQVk7RUFDWixrQkFBa0I7RUFDbEIsaUJBQWlCO0VBQ2pCLGlCQUFpQjtFQUNqQixZQUFZO0VBQ1osZ0JBQWdCO0FBQ2xCOztBQUVBO0VBQ0UsYUFBYTtFQUNiLHNCQUFzQjtFQUN0QixZQUFZO0VBQ1osa0JBQWtCO0VBQ2xCLGVBQWU7QUFDakI7O0FBRUE7RUFDRSxjQUFjO0FBQ2hCOztBQUVBO0VBQ0UsYUFBYTtFQUNiLGtCQUFrQjtFQUNsQix5QkFBeUI7RUFDekIsZ0JBQWdCO0VBQ2hCLDRDQUE0QztFQUM1QyxZQUFZO0VBQ1osVUFBVSxFQUFFLGdDQUFnQztFQUM1QyxRQUFRLEVBQUUsdUVBQXVFO0VBQ2pGLFNBQVM7QUFDWDs7QUFFQTtFQUNFLFdBQVcsRUFBRSx1RUFBdUU7RUFDcEYsZ0JBQWdCLEVBQUUsbUNBQW1DO0FBQ3ZEOztBQUVBO0VBQ0UsY0FBYztFQUNkLGtCQUFrQjtFQUNsQixxQkFBcUI7RUFDckIsWUFBWTtBQUNkOztBQUVBO0VBQ0UseUJBQXlCLEVBQUUsK0NBQStDO0FBQzVFOztBQUVBO0VBQ0Usa0JBQWtCLEVBQUUsMERBQTBEO0FBQ2hGOztBQUVBO0VBQ0UsY0FBYyxFQUFFLHdEQUF3RDtBQUMxRSxDQUFDO0VBQ0Msa0JBQWtCO0VBQ2xCLEtBQUs7RUFDTCxRQUFRO0VBQ1IscUJBQXFCO0VBQ3JCLFlBQVk7RUFDWixrQkFBa0I7RUFDbEIsZ0JBQWdCO0VBQ2hCLGVBQWU7RUFDZixpQkFBaUI7QUFDbkIiLCJzb3VyY2VzQ29udGVudCI6WyIqIHtcclxuICBtYXJnaW46IDA7XHJcbiAgcGFkZGluZzogMDtcclxuICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xyXG4gIGZvbnQtZmFtaWx5OiBhcmlhbDtcclxufVxyXG5cclxuaGVhZGVyIHtcclxuICBoZWlnaHQ6IDEwMCU7XHJcbiAgd2lkdGg6IDEwMCU7XHJcbiAgZmxvYXQ6IGxlZnQ7XHJcbiAgYmFja2dyb3VuZDogIzliMGUwZTtcclxuICBwYWRkaW5nOiAwIDIwcHg7XHJcbiAgY29sb3I6ICNmZmY7XHJcbn1cclxuXHJcbi5icmFuZC1sb2dvIHtcclxuICBtYXgtd2lkdGg6IDc1cHg7XHJcbiAgZmxvYXQ6IGxlZnQ7XHJcbiAgcGFkZGluZzogMTRweCAwcHg7XHJcbiAgYm9yZGVyLXJhZGl1czogNTAlO1xyXG4gIG92ZXJmbG93OiBoaWRkZW47XHJcbn1cclxuXHJcbi5icmFuZC1sb2dvIGltZyB7XHJcbiAgbWF4LXdpZHRoOiAxMDAlO1xyXG4gIGJvcmRlci1yYWRpdXM6IDUwJTtcclxufVxyXG5cclxuLm5hdmlnYXRpb24ge1xyXG4gIG1hcmdpbjogMHB4O1xyXG4gIGZsb2F0OiByaWdodDtcclxufVxyXG5cclxuLm5hdmlnYXRpb24gbGkge1xyXG4gIGxpc3Qtc3R5bGU6IG5vbmU7XHJcbiAgZmxvYXQ6IGxlZnQ7XHJcbiAgbWFyZ2luLXJpZ2h0OiAxMHB4O1xyXG59XHJcblxyXG4ubmF2aWdhdGlvbiBsaSBhIHtcclxuICBjb2xvcjogI2ZmZjtcclxuICBwYWRkaW5nOiAyOHB4IDE1cHg7XHJcbiAgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTtcclxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgZGlzcGxheTogYmxvY2s7XHJcbiAgdGV4dC1kZWNvcmF0aW9uOiBub25lO1xyXG59XHJcblxyXG4ubmF2aWdhdGlvbiBsaSBhIGkge1xyXG4gIHdpZHRoOiAxMDAlO1xyXG4gIGZvbnQtc2l6ZTogMjBweDtcclxuICBtYXJnaW4tYm90dG9tOiA3cHg7XHJcbn1cclxuXHJcbi5zaG93LW1lbnUtYnRuLFxyXG4uaGlkZS1tZW51LWJ0biB7XHJcbiAgdHJhbnNpdGlvbjogMC40cztcclxuICBmb250LXNpemU6IDMwcHg7XHJcbiAgY3Vyc29yOiBwb2ludGVyO1xyXG4gIGRpc3BsYXk6IG5vbmU7XHJcbn1cclxuXHJcbi5zaG93LW1lbnUtYnRuIHtcclxuICBtYXJnaW46IDBweDtcclxuICBmbG9hdDogcmlnaHQ7XHJcbn1cclxuXHJcbi5zaG93LW1lbnUtYnRuIGkge1xyXG4gIGxpbmUtaGVpZ2h0OiAxMDBweDtcclxufVxyXG5cclxuLm5hdmlnYXRpb24gYTpob3ZlcixcclxuLnNob3ctbWVudS1idG46aG92ZXIsXHJcbi5oaWRlLW1lbnUtYnRuOmhvdmVyIHtcclxuICBjb2xvcjogIzAwZmYwYTtcclxufVxyXG5cclxuI3RvZ2dsZS1idG4ge1xyXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICB2aXNpYmlsaXR5OiBoaWRkZW47XHJcbiAgei1pbmRleDogLTExMTE7XHJcbn1cclxuXHJcbi8qLS0gUmVzcG9uc2l2ZSBDU1MgLS0qL1xyXG5AbWVkaWEgc2NyZWVuIGFuZCAobWF4LXdpZHRoOjc2N3B4KSB7XHJcbiAgLnNob3ctbWVudS1idG4sXHJcbiAgLmhpZGUtbWVudS1idG4ge1xyXG4gICAgICBkaXNwbGF5OiBibG9jaztcclxuICB9XHJcblxyXG4gIC5uYXZpZ2F0aW9uIHtcclxuICAgICAgcG9zaXRpb246IGZpeGVkO1xyXG4gICAgICB3aWR0aDogMTAwJTtcclxuICAgICAgaGVpZ2h0OiAxMDB2aDtcclxuICAgICAgYmFja2dyb3VuZDogI2FjMTYxNjtcclxuICAgICAgdG9wOiAtMTAwJTtcclxuICAgICAgbGVmdDogMDtcclxuICAgICAgcGFkZGluZzogNTBweCAwcHg7XHJcbiAgICAgIHRyYW5zaXRpb246IDFzO1xyXG4gIH1cclxuXHJcbiAgLm5hdmlnYXRpb24gbGkge1xyXG4gICAgICBsaXN0LXN0eWxlOiBub25lO1xyXG4gICAgICBmbG9hdDogbGVmdDtcclxuICB9XHJcblxyXG4gIC5uYXZpZ2F0aW9uIGxpIGEge1xyXG4gICAgICBwYWRkaW5nOiAxNXB4IDE1cHg7XHJcbiAgICAgIHRleHQtYWxpZ246IGxlZnQ7XHJcbiAgfVxyXG5cclxuICAubmF2aWdhdGlvbiBsaSBhIGkge1xyXG4gICAgICB3aWR0aDogYXV0bztcclxuICAgICAgZm9udC1zaXplOiAyMHB4O1xyXG4gIH1cclxuXHJcbiAgLmhpZGUtbWVudS1idG4ge1xyXG4gICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICAgIHRvcDogMTVweDtcclxuICAgICAgcmlnaHQ6IDIwcHg7XHJcbiAgfVxyXG5cclxuICAjdG9nZ2xlLWJ0bjpjaGVja2VkIH4gbmF2IC5uYXZpZ2F0aW9uIHtcclxuICAgICAgdG9wOiAwcHg7XHJcbiAgfVxyXG59XHJcblxyXG4uYnV0dG9uLWNvbnRhaW5lciB7XHJcbiAgZmxvYXQ6IHJpZ2h0O1xyXG4gIGRpc3BsYXk6IGZsZXg7XHJcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICBtYXJnaW4tcmlnaHQ6IDIwcHg7XHJcbn1cclxuXHJcbi5idXR0b24tY29udGFpbmVyIGJ1dHRvbiB7XHJcbiAgbWFyZ2luLWxlZnQ6IDEwcHg7XHJcbn1cclxuXHJcbi5sb2dpbi1idG4ge1xyXG4gIGJhY2tncm91bmQ6IG5vbmU7XHJcbiAgYm9yZGVyOiBub25lO1xyXG4gIGNvbG9yOiAjZmZmO1xyXG4gIGZvbnQtc2l6ZTogMTZweDtcclxuICBjdXJzb3I6IHBvaW50ZXI7XHJcbiAgdGV4dC1kZWNvcmF0aW9uOiBub25lO1xyXG59XHJcblxyXG4ubG9naW4tYnRuIGkge1xyXG4gIG1hcmdpbi1yaWdodDogNXB4O1xyXG59XHJcblxyXG4uc2VhcmNoLWJhciB7XHJcbiAgZmxvYXQ6IGxlZnQ7XHJcbiAgZGlzcGxheTogZmxleDtcclxuICBhbGlnbi1pdGVtczogZmxleC1lbmQ7XHJcbiAgbWFyZ2luLXJpZ2h0OiAyMHB4O1xyXG4gIG1hcmdpbi1sZWZ0OiBhdXRvO1xyXG59XHJcblxyXG4uc2VhcmNoLWJhciBpbnB1dCB7XHJcbiAgcGFkZGluZzogMTBweDtcclxuICBib3JkZXI6IG5vbmU7XHJcbiAgYm9yZGVyLXJhZGl1czogNXB4O1xyXG4gIG1hcmdpbi1yaWdodDogNXB4O1xyXG4gIG1hcmdpbi1sZWZ0OiA1MnB4O1xyXG4gIHdpZHRoOiA0MDBweDtcclxuICBtYXJnaW4tdG9wOiAzMHB4O1xyXG59XHJcblxyXG4uc2VhcmNoLWJhciAuc2VhcmNoLWJ0biB7XHJcbiAgcGFkZGluZzogMTBweDtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmO1xyXG4gIGJvcmRlcjogbm9uZTtcclxuICBib3JkZXItcmFkaXVzOiA1cHg7XHJcbiAgY3Vyc29yOiBwb2ludGVyO1xyXG59XHJcblxyXG4uc2VhcmNoLWJhciAuc2VhcmNoLWJ0biBpIHtcclxuICBjb2xvcjogIzliMGUwZTtcclxufVxyXG5cclxuLmRyb3Bkb3duLW1lbnUge1xyXG4gIGRpc3BsYXk6IG5vbmU7XHJcbiAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gIGJhY2tncm91bmQtY29sb3I6ICNhYzE2MTY7XHJcbiAgbWluLXdpZHRoOiAyMDBweDtcclxuICBib3gtc2hhZG93OiAwcHggOHB4IDE2cHggMHB4IHJnYmEoMCwwLDAsMC4yKTtcclxuICB6LWluZGV4OiA5OTk7XHJcbiAgbGVmdDogYXV0bzsgLyogRWxpbWluYSBsYSBwcm9waWVkYWQgJ2xlZnQnICovXHJcbiAgcmlnaHQ6IDA7IC8qIEFsaW5lYSBlbCBtZW7Dg8K6IGRlc3BsZWdhYmxlIGNvbiBlbCBib3JkZSBkZXJlY2hvIGRlbCBlbGVtZW50byBwYWRyZSAqL1xyXG4gIHRvcDogMTAwJTtcclxufVxyXG5cclxuLmRyb3Bkb3duLW1lbnUgbGkge1xyXG4gIGZsb2F0OiBub25lOyAvKiBBc2VndXJhIHF1ZSBsb3MgZWxlbWVudG9zIGRlIGxhIGxpc3RhIGVzdMODwqluIGFwaWxhZG9zIHZlcnRpY2FsbWVudGUgKi9cclxuICB0ZXh0LWFsaWduOiBsZWZ0OyAvKiBBbGluZWEgZWwgdGV4dG8gYSBsYSBpenF1aWVyZGEgKi9cclxufVxyXG5cclxuLmRyb3Bkb3duLW1lbnUgbGkgYSB7XHJcbiAgZGlzcGxheTogYmxvY2s7XHJcbiAgcGFkZGluZzogMTJweCAxNnB4O1xyXG4gIHRleHQtZGVjb3JhdGlvbjogbm9uZTtcclxuICBjb2xvcjogd2hpdGU7XHJcbn1cclxuXHJcbi5kcm9wZG93bi1tZW51IGxpIGE6aG92ZXIge1xyXG4gIGJhY2tncm91bmQtY29sb3I6ICNmN2NhMDA7IC8qIENhbWJpYSBlbCBjb2xvciBkZSBmb25kbyBhbCBwYXNhciBlbCByYXTDg8KzbiAqL1xyXG59XHJcblxyXG4ubmF2aWdhdGlvbiBsaSB7XHJcbiAgcG9zaXRpb246IHJlbGF0aXZlOyAvKiBFc3RhYmxlY2UgbGEgcG9zaWNpw4PCs24gcmVsYXRpdmEgcGFyYSBlbCBlbGVtZW50byBwYWRyZSAqL1xyXG59XHJcblxyXG4ubmF2aWdhdGlvbiBsaTpob3ZlciAuZHJvcGRvd24tbWVudSB7XHJcbiAgZGlzcGxheTogYmxvY2s7IC8qIE11ZXN0cmEgZWwgbWVuw4PCuiBkZXNwbGVnYWJsZSBjdWFuZG8gc2UgcGFzYSBlbCByYXTDg8KzbiAqL1xyXG59Lm5vdGlmaWNhdGlvbi1iYWRnZSB7XHJcbiAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gIHRvcDowO1xyXG4gIHJpZ2h0OiA1O1xyXG4gIGJhY2tncm91bmQtY29sb3I6IHJlZDtcclxuICBjb2xvcjogd2hpdGU7XHJcbiAgYm9yZGVyLXJhZGl1czogNTAlO1xyXG4gIHBhZGRpbmc6IDRweCA4cHg7XHJcbiAgZm9udC1zaXplOiAxMnB4O1xyXG4gIGZvbnQtd2VpZ2h0OiBib2xkO1xyXG59Il0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n  });\n}","map":{"version":3,"mappings":"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","names":["i0","NavbarComponent","constructor","router","authService","detalleCompraService","ngOnInit","isLoggedIn$","subscribe","isLoggedIn","userDataString","localStorage","getItem","userData","JSON","parse","userName","nombre","getCantidadDetalleCompraPorUsuario","userId","count","contadorProductos","search","navigate","queryParams","term","searchTerm","logout","toggleDropdown","isDropdownOpen","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["C:\\Users\\54351\\Desktop\\Practica1\\Front\\src\\app\\components\\navbar\\navbar.component.html","C:\\Users\\54351\\Desktop\\Practica1\\Front\\src\\app\\components\\navbar\\navbar.component.ts"],"sourcesContent":["<script src=\"https://cdnjs.cloudflare.com/ajax/libs/js-cookie/3.0.1/js.cookie.min.js\"></script>\n\n<!DOCTYPE html>\n<head>\n    <meta charset=\"utf-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\n    <link rel=\"stylesheet\" href=\"https://use.fontawesome.com/releases/v5.10.2/css/all.css\">\n</head>\n<body>\n    <header>\n        <div class=\"brand-logo\">\n            <a href=\"#\"><img src=\"/assets/og.jpg\" alt=\"Brand Logo\"></a>\n        </div>\n        <div class=\"search-bar\">\n            <input type=\"text\" [(ngModel)]=\"searchTerm\" placeholder=\"Search...\" (keyup.enter)=\"search()\">\n            <button class=\"search-btn\" (click)=\"search()\"><i class=\"fas fa-search\"></i></button>\n        </div>\n        <input type=\"checkbox\" id=\"toggle-btn\">\n        <label for=\"toggle-btn\" class=\"show-menu-btn\"><i class=\"fas fa-bars\"></i></label>\n        <ul class=\"navigation\">\n            <li><a href=\"#\"><i class=\"fas fa-house-damage\"></i> Home</a></li>\n            <li><a href=\"#\"><i class=\"fa-solid fa-user-shield\"></i> Seguridad</a></li>\n            <li>\n                <a href=\"carro\">\n                    <i class=\"fas fa-shopping-cart\"></i> Carro\n                    <span class=\"notification-badge\" *ngIf=\"contadorProductos > 0\">{{ contadorProductos }}</span>\n                </a>\n            </li>\n            \n            <li *ngIf=\"isLoggedIn\" (click)=\"toggleDropdown()\">\n                <a class=\"login-btn\"><i class=\"fas fa-user\"></i> {{ userName }}</a>\n                <ul class=\"dropdown-menu\" *ngIf=\"isDropdownOpen\">\n                    <li><a href=\"#\">Perfil</a></li>\n                    <li><a href=\"#\" (click)=\"logout()\">Cerrar sesión</a></li>\n                </ul>\n            </li>\n            <li *ngIf=\"!isLoggedIn\"><a href=\"login\" class=\"login-btn\"><i class=\"fas fa-sign-in-alt\"></i> Iniciar Sesión</a></li>\n        </ul>\n        <label for=\"toggle-btn\" class=\"hide-menu-btn\"><i class=\"fas fa-times\"></i></label>\n    </header>\n    \n</body>","import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { AuthenticationService } from 'src/app/services/authentication.service';\nimport { DetalleCompraService } from 'src/app/services/detalle-compra.service';\n\n@Component({\n  selector: 'app-navbar',\n  templateUrl: './navbar.component.html',\n  styleUrls: ['./navbar.component.css']\n})\nexport class NavbarComponent implements OnInit {\n  isLoggedIn: boolean = false;\n  userData: any;\n  userName: string = '';\n  contadorProductos: number = 0;\n  searchTerm: string = '';\n  isDropdownOpen: boolean = false;\n\n  constructor(\n    private router: Router,\n    private authService: AuthenticationService,\n    private detalleCompraService: DetalleCompraService\n  ) {}\n\n  ngOnInit(): void {\n    this.authService.isLoggedIn$.subscribe((isLoggedIn) => {\n      this.isLoggedIn = isLoggedIn;\n      if (isLoggedIn) {\n        const userDataString = localStorage.getItem('userData');\n        if (userDataString) {\n          this.userData = JSON.parse(userDataString);\n          this.userName = this.userData.nombre;\n          \n          // Obtener la cantidad de detalles de compra para el usuario actual\n          this.detalleCompraService.getCantidadDetalleCompraPorUsuario(this.userData.userId)\n            .subscribe(count => {\n              this.contadorProductos = count;\n            });\n        }\n      }\n    });\n  }\n\n  search(): void {\n    this.router.navigate(['/search'], { queryParams: { term: this.searchTerm } });\n  }\n\n  logout(): void {\n    this.authService.logout();\n    this.router.navigate(['/login']);\n  }\n  toggleDropdown(): void {\n    this.isDropdownOpen = !this.isDropdownOpen;\n}\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}